---
layout: post
title: FastAPI란-무엇인가
author: 박지수
categories: 파이썬
---

## 1. FastAPI란?  
참고: https://fastapi.tiangolo.com/ko/  


## 2. FastAPI의 디렉토리 구조 정하기
적절한 프로젝트 구조화는 프로젝트 확장을 용이하게 하고, 유지보수성이 향상되며, 명확한 구조로 인해 협업이 수월해진다는 측면에서 매우 중요합니다.  
이러한 이점을 챙기기 위해서 프로젝트 구조화를 하려 한다면 다음과 같은 원칙을 지켜야 합니다.  
- 관심사 분리 : FastAPI의 다양한 측면을 성질에 따라 구분하여 코드 가독성과 유지보수를 향상 (ex. routes, models, service)
- 모듈화 : 재사용 가능한 모듈로 나눔
- 의존성 주입 : 의존성 주입을 사용해 구성 요소 분리 (ex. fastapi.Depends)
- 테스트 가능성 : mocking 등의 전략을 사용해 테스트 가능하도록 설계

이와 같은 원칙에 따라 다음과 같은 구조들로 프로젝트를 빌드할 수 있다.  
1. 파일 유형에 따른 구조화  
  API, CRUD, models 등 
  ```
  ├── app  # Contains the main application files.
  │   ├── __init__.py   # this file makes "app" a "Python package"
  │   ├── main.py       # Initializes the FastAPI application.
  │   ├── dependencies.py # Defines dependencies used by the routers
  │   ├── routers
  │   │   ├── __init__.py
  │   │   ├── items.py  # Defines routes and endpoints related to items.
  │   │   └── users.py  # Defines routes and endpoints related to users.
  │   ├── crud
  │   │   ├── __init__.py
  │   │   ├── item.py  # Defines CRUD operations for items.
  │   │   └── user.py  # Defines CRUD operations for users.
  │   ├── schemas
  │   │   ├── __init__.py
  │   │   ├── item.py  # Defines schemas for items.
  │   │   └── user.py  # Defines schemas for users.
  │   ├── models
  │   │   ├── __init__.py
  │   │   ├── item.py  # Defines database models for items.
  │   │   └── user.py  # Defines database models for users.
  │   ├── external_services
  │   │   ├── __init__.py
  │   │   ├── email.py          # Defines functions for sending emails.
  │   │   └── notification.py   # Defines functions for sending notifications
  │   └── utils
  │       ├── __init__.py
  │       ├── authentication.py  # Defines functions for authentication.
  │       └── validation.py      # Defines functions for validation.
  ├── tests
  │   ├── __init__.py
  │   ├── test_main.py
  │   ├── test_items.py  # Tests for the items module.
  │   └── test_users.py  # Tests for the users module.
  ├── requirements.txt
  ├── .gitignore
  └── README.md
  ```

2. 모듈의 기능에 따른 구조화
```
fastapi-project
├── alembic/
├── src
│   ├── auth
│   │   ├── router.py         # auth main router with all the endpoints
│   │   ├── schemas.py        # pydantic models
│   │   ├── models.py         # database models
│   │   ├── dependencies.py   # router dependencies
│   │   ├── config.py         # local configs
│   │   ├── constants.py      # module-specific constants
│   │   ├── exceptions.py     # module-specific errors
│   │   ├── service.py        # module-specific business logic
│   │   └── utils.py          # any other non-business logic functions
│   ├── aws
│   │   ├── client.py  # client model for external service communication
│   │   ├── schemas.py
│   │   ├── config.py
│   │   ├── constants.py
│   │   ├── exceptions.py
│   │   └── utils.py
│   └── posts
│   │   ├── router.py
│   │   ├── schemas.py
│   │   ├── models.py
│   │   ├── dependencies.py
│   │   ├── constants.py
│   │   ├── exceptions.py
│   │   ├── service.py
│   │   └── utils.py
│   ├── config.py      # global configs
│   ├── models.py      # global database models
│   ├── exceptions.py  # global exceptions
│   ├── pagination.py  # global module e.g. pagination
│   ├── database.py    # db connection related stuff
│   └── main.py
├── tests/
│   ├── auth
│   ├── aws
│   └── posts
├── templates/
│   └── index.html
├── requirements
│   ├── base.txt
│   ├── dev.txt
│   └── prod.txt
├── .env
├── .gitignore
├── logging.ini
└── alembic.ini
```
