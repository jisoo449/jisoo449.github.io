---
layout: post
title: FastAPI 사용법
author: 박지수
categories: 파이썬
---

# 1. FastAPI란?
참고: https://fastapi.tiangolo.com/ko/  

# 2. 환경 구성하기
1. 아래와 같은 파일 구조를 생성
    ```
    .
    ├── app
    │   ├── __init__.py
    │   ├── main.py
    │   ├── dependencies.py
    │   └── routers
    │   │   ├── __init__.py
    │   │   ├── items.py
    │   │   └── users.py
    │   └── models
    │       ├── __init__.py
    │       └── admin.py
    │   └── routes
    │       ├── __init__.py
    │       └── admin.py
    │   └── database
    │       ├── __init__.py
    │       └── connection.py
    ```
  참고: https://fastapi.tiangolo.com/tutorial/bigger-applications/  

2. 의존 라이브러리 설치
  ```
  > pip install uvicorn fastapi pydantic[email]
  ```  

# 3. 실습하기
## 3.1. Uvicorn을 사용해 서버 실행
uvicorn을 사용해 fastapi 서버를 실행하려면 다음과 같은 명령어를 cmd창에서 입력 해 주어야 한다.
```
uvicorn main:app --port 8000 --reload
```  
- `uvicorn` : uvicorn 서버를 실행시키는 명령어
- `main:app` : 현재 디렉토리 위치에서 실행시킬 모듈명(파일명) 과 이를 돌리는 이름
- `--port` : 서버를 돌릴 때 사용할 포트번호
- `--reload` : 서버 실행 중 파일이 수정되면 수정내용이 서버에 업데이트 된다는 옵션이다.

혹은 main.py파일에 다음과 같이 함수를 정의하여 파이썬으로 파일이 실행되면 위와 같은 명령어가 실행되게 할 수 있다.
```Python
from fastapi import FastAPI

# FastAPI 객체 생성
app = FastAPI()

# main이라는 이름의 파일이 직접 실행되는가(다른 모듈에 포함되어 실행되는 것이 아님)
if __name__=="__main__":
    import uvicorn
    uvicorn.run("main:app", host="127.0.0.1", port=8000, reload=True)
```

## 3.2. 모델 설정

## 3.3. 라우터 설정

## 3.4. DB 연결

## 3.5. 프론트 서버와 통신
